<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Image Viewer</title>
</head>
<body>
  <h1>Image Viewer</h1>
  <img id="image-display" alt="Received Image" style="max-width: 600px; max-height: 400px; border: 1px solid #ccc;"/>

  <script src="https://cdn.socket.io/4.8.0/socket.io.min.js"></script>  
  <script>
    const socket = io();

    // Listen for newImage event
    socket.on('newImage', (imageData) => {
      // console.log('New image received' + imageData);
      const imgElement = document.getElementById('image-display');
      
      // Set the image source using Base64 data URL
      imgElement.src = `data:image/jpeg;base64,${imageData}`;
    });
  </script>
</body>
</html>
